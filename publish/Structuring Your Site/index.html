<!DOCTYPE html><html lang="en"><head><title>Mozahler - The Next Level</title><meta name="twitter:title" content="Mozahler - The Next Level"/><meta name="og:title" content="Mozahler - The Next Level"/><meta charset="UTF-8" name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="https://unpkg.com/purecss@1.0.1/build/pure-min.css" integrity="sha384-oAOxQR6DkCoMliIh8yFnu25d7Eq/PHS21PClpwjOTeU2jRSq11vu66rf90/cZr47" crossorigin="anonymous"/><link rel="stylesheet" href="https://unpkg.com/purecss@1.0.1/build/grids-responsive-min.css"/><link rel="stylesheet" href="/styles.css"/></head><body><div id="layout" class="pure-g"><div><div class="pure-menu pure-menu-horizontal pure-u-1-1 top-header"><a class="pure-menu-heading" href="/">Mozahler</a><ul class="pure-menu-list"><li class="pure-menu-item"><a class="pure-menu-link" href="/posts">Posts</a></li><li class="pure-menu-item"><a class="pure-menu-link" href="/publish">Publish</a></li><li class="pure-menu-item"><a class="pure-menu-link" href="/swift">Swift</a></li><li class="pure-menu-item"><a class="pure-menu-link" href="/about">About This Site</a></li></ul></div></div><div class="sidebar pure-u-1 pure-u-md-1-4"><div class="header"><div id="layout" class="pure-g"><div class="author__avatar"><img src="../../images/Mozahler.jpg"/></div><div class="pure-u-md-1-1 pure-u-3-4"><h1 class="brand-title">Mozahler</h1><h3 class="brand-tagline">The Next Level</h3></div></div><div id="layout" class="pure-g"><div class="pure-u-md-1-1"><a href="https://en.wikipedia.org/wiki/Boston"><i class="fas fa-map-marker-alt l-box social-icon"></i><a class="social-media" href="https://en.wikipedia.org/wiki/Boston">Boston, Massachusetts, USA</a></a></div><div class="pure-u-md-1-1"><a href="mailto:mozahleri@gmail.com"><i class="fas fa-envelope-open-text l-box social-icon"></i><a class="social-media" href="mailto:mozahleri@gmail.com">Email</a></a></div><div class="pure-u-md-1-1"><a href="https://www.linkedin.com/in/thomas-ingemanson-8900a31b0"><i class="fab fa-linkedin l-box social-icon"></i><a class="social-media" href="https://www.linkedin.com/in/thomas-ingemanson-8900a31b0">LinkedIn</a></a></div><div class="pure-u-md-1-1"><a href="https://github.com/mozahler"><i class="fab fa-github-square l-box social-icon"></i><a class="social-media" href="https://github.com/mozahler">GitHub</a></a></div><div class="pure-u-md-1-1"><a href="https://stackoverflow.com/users/5156054/mozahler"><i class="fab fa-stack-overflow l-box social-icon"></i><a class="social-media" href="https://stackoverflow.com/users/5156054/mozahler">StackOverflow</a></a></div><div class="pure-u-md-1-1"><a href="https://twitter.com/Mozahler"><i class="fab fa-twitter-square l-box social-icon"></i><a class="social-media" href="https://twitter.com/Mozahler">Twitter</a></a></div></div></div></div><div class="content pure-u-1 pure-u-md-3-5 pure-u-xl-6-10"><h2 class="post-title"><a href="/publish/Structuring Your Site">Structuring Your Site</a></h2><p class="post-meta">10.05.2022</p><div class="post-tags"><a class="post-category post-category-site" href="/tags/site">site</a><a class="post-category post-category-publish" href="/tags/publish">publish</a></div><div class="post-description"><div><h2>Publish Overview</h2><p>By following the instructions on <a href="https://github.com/JohnSundell/Publish">John Sundell's GitHub page</a>, you can set up a Website on your mac complete with a server to view the results in Safari. I <strong>kid you not</strong> when I say you can have a functional site set up on your mac in less than an hour. How is that even possible?</p><p>John has spent lot of time and effort creating the tools needed and organizing how everything fits together. Before hacking away at things, let's take a look at how things are set up out of the box, and some of the underlying reasons why things are organized the way they are. Once you have a basic understanding of how things work, you'll have an easier time making changes to customize how the site works for you.</p><p>This page outlines some of the conventions to follow while getting your feet wet. As I say often on this site: there's more than one way to do things. But until you can introduce changes to your site and view the results right away, you might feel a bit lost. I recommend you follow the conventions until you are more familiar with how everything fits together.</p><p>Remember that the type of object we create is a <strong>Website</strong>. By creating a custom <strong>Website</strong> object you are going to be met with a lot of decision making along the way. If you are going to use any of the extra tools (like Plot or Splash) that are developed for working with <strong>Publish</strong>, then it makes sense not to stray too far from the intended structure. At least, until you understand how the pieces fit together/What makes things tick.</p><h2>The Folder Layout</h2><h3>The <strong>Content</strong> Folder</h3><p><strong>Content</strong> is where you put your website's written content -- blog posts, and other pages.<br><br><strong>Publish</strong><br><br>Publish lets you generate your website's content in two ways: by using markdown files or programmatically. When you add markdown files to <strong>Content</strong>, <strong>Publish</strong> parses the content automatically. It (automatically) uses Ink markdown parser library, also created by John Sundell. All of this is fairly transparent to you. I mostly add markdown files that are ready for display, and tend to not do this programmatically. If there's any demand I can come up with a demo file or two using <strong>Plot</strong>. Plot is John Sundell's plugin that enables you to "program" your output files with methods such as li() for list items and a() to define links. The advantage to doing things this way is you have the compiler checking your work as you go along.<br><br><strong>Output</strong><br><br><strong>Output</strong> is the main folder of the website. It contains all the files necessary to display the content of the website. It's generated every time you build the project in Xcode. Once you start adding more content and custom pages to your website, you'll see more files and folders appear. You should assume everything in this file is read-only. After any changes to your source files or resources, a rebuild or running your project will trigger an update of the content of this folder.<br><br>Even though you don't add to or edit anything in this folder, it contains all the content and information to generate your website. Consider it as read-only. You'll see feed and sitemap files there along with styles.css. This CSS file is the pre-defined styling for your website. You can create your own theme, which in turn can use a custom <strong>styles.css</strong> file to display your content with a uniform feel and look.<br><br><strong>Resources</strong><br><br><strong>Resources</strong> is where you add any media files for your content, like images, videos, audio, and fonts.<br><br><strong>Sources</strong><br><br><strong>Sources</strong> has all the Swift files to build your website. On initial install there's one main.swift file which contains configuration information for your website. You can add sections, specific item metadata, website properties, and configure publishing steps. Typically you issue the command to "publish" your site at the bottom of this file.</p><h2>The Three Major DataTypes Used By the System</h2><h3>Section, Item, and Page</h3><h4>Sections</h4><p>There are three major data types used to help you structure your content.</p><p>Each of these is called at the appropriate time whenever you build/publish/run your site.<br><br>Each Section, Item, and Page can define its own set of Content â€” which can range from text (like titles and descriptions), to HTML, audio, video and various kinds of metadata.<br><br>The <strong>Theme</strong> struct (defined as part of the Publish <strong>API</strong>) provides you with processing hooks to let you customize how each is processed.</p><pre><code><span class="keyword">public struct</span> Theme&lt;Site: <span class="type">Website</span>&gt; {
    <span class="keyword">internal let</span> makeIndexHTML: (<span class="type">Index</span>, <span class="type">PublishingContext</span>&lt;<span class="type">Site</span>&gt;) <span class="keyword">throws</span> -&gt; <span class="type">HTML</span>
    <span class="keyword">internal let</span> makeSectionHTML: (<span class="type">Section</span>&lt;<span class="type">Site</span>&gt;, <span class="type">PublishingContext</span>&lt;<span class="type">Site</span>&gt;) <span class="keyword">throws</span> -&gt; <span class="type">HTML</span>
    <span class="keyword">internal let</span> makeItemHTML: (<span class="type">Item</span>&lt;<span class="type">Site</span>&gt;, <span class="type">PublishingContext</span>&lt;<span class="type">Site</span>&gt;) <span class="keyword">throws</span> -&gt; <span class="type">HTML</span>
    <span class="keyword">internal let</span> makePageHTML: (<span class="type">Page</span>, <span class="type">PublishingContext</span>&lt;<span class="type">Site</span>&gt;) <span class="keyword">throws</span> -&gt; <span class="type">HTML</span>
    <span class="keyword">internal let</span> makeTagListHTML: (<span class="type">TagListPage</span>, <span class="type">PublishingContext</span>&lt;<span class="type">Site</span>&gt;) <span class="keyword">throws</span> -&gt; <span class="type">HTML</span>?
    <span class="keyword">internal let</span> makeTagDetailsHTML: (<span class="type">TagDetailsPage</span>, <span class="type">PublishingContext</span>&lt;<span class="type">Site</span>&gt;) <span class="keyword">throws</span> -&gt; <span class="type">HTML</span>?
    <span class="keyword">internal let</span> resourcePaths: <span class="type">Set</span>&lt;<span class="type">Path</span>&gt;
    <span class="keyword">internal let</span> creationPath: <span class="type">Path</span>
    ...
    }
</code></pre><p>Each Section, Item, and Page can define its own set of Content â€” which can range from text (like titles and descriptions), to HTML, audio, video and various kinds of metadata.</p><p><strong>Sections</strong> are created based on the members of each websiteâ€™s SectionID enum. Each section both has its own HTML page, and can also act as a container for a list of Items.</p><p><strong>Items</strong> represent the individual entries (blog posts, for example) and can exist as nested HTML pages within a section.</p><p><strong>Pages</strong> provide yet another way to build custom pages. You can create free-form pages that can be placed into any kind of folder hierarchy.</p><p>For the most part, this is the typical structure used by most developers but I've noticed not everyone follows this layout. I recommend you start by adopting this three folder concept - at least until you are comfortable you understand where everything is and why it's there.</p><h2>Metadata</h2><p><strong>Publish</strong> makes use of the ItemMetadata type if you choose to give it properties. You can add metadata to the top of your files which, if defined, must match the fields in your <strong>ItemMetadata</strong> object. A missing field, or a field in the wrong format will stop the compile.</p><h2>Tags</h2><p>Tags can make for a convenient way to filter, sort or group your content. It is easy to add functionality to your site by processing content by tag (you can add your own PublishingStep to the build process). An item can have more than one tag.</p><h2>Publishing Steps</h2><p>You can think of a publishing step as a component of a composable sequence used to create your site. Each publishing step is passed an instance of <strong>PublishingContext</strong>, which it can use to mutate the current context in which the website is being published â€” including its files, folders, and content. This gives you a lot of freedom to enhance the site to better suit your specific needs.</p><h2>The main file</h2><p>As I mentioned, <strong>main</strong> is pretty much the only source code file you will find after an initial install. That should signal to you that important stuff goes here. Most tutorials I've seen recommend copying the <strong>Foundation</strong> theme which ships with Publish. This quickly becomes the most important file, as it can be used as the control center for customizing the site to your needs.<br><br><br><a href="https://www.russellgordon.ca/tutorials/creating-a-custom-theme-using-publish/">Creating a Custom Theme - Russell Gordon</a><br><br><a href="https://danijelavrzan.com/posts/2022/06/publish-creating-content-with-markdown/">Creating Content With Markdown</a><br><br><a href="https://deirdre.dev/wrestling-with-publish/">Wrestling With Publish</a></p></div></div></div><div class="footer pure-u-1"><div class="pure-u-1">Â© 2022 Mozahler</div><div class="pure-u-1">Generated using <a href="https://github.com/johnsundell/publish">Publish</a></div><div class="pure-u-1"><a href="/feed.rss">RSS feed</a></div></div></div></body></html>